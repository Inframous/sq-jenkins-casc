jenkins:
  systemMessage: "Welcome to your new Jenkins Controller, ejnoy!"
  numExecutors: 0
  securityRealm:
    local:
      allowsSignup: false
      users:
        - id: "admin"
          password: "password"
        - id: "dev"
          password: "password"
        - id: "dev2"
          password: "password"
  agentProtocols:
    ssh:
      sshHostKeyVerificationStrategy: none

  authorizationStrategy:
    roleBased:
      roles:
        global:
          - name: "admin"
            description: "Jenkins administrators"
            permissions:
              - "Overall/Administer"
            assignments:
              - "admin"
          - name: "Authenticated_Devs"
            description: "Authenticated Devs"
            permissions:
              - "Overall/Read"
              - "Job/Read"
              - "Job/Configure"
              - "Job/Build"
              - "Job/Workspace"
              - "Agent/Build"
              - "Agent/Connect"
              - "Agent/Build"
              - "Agent/Disconnect"

            assignments:
              - "authenticated"

# Setting up Agents 
  nodes:
    - permanent:
        labelString: "Master_Agent master_agent"
        mode: NORMAL
        name: "Master_Agent"
        numExecutors: 1
        remoteFS: "/home/ubuntu/j_agent"
        launcher:
          ssh:
            host: '172.31.5.6'
            port: 22
            credentialsId: ssh-Master-Controller
            launchTimeoutSeconds: 60
            maxNumRetries: 3
            retryWaitTime: 30
            sshHostKeyVerificationStrategy:
              manuallyTrustedKeyVerificationStrategy:
                requireInitialManualTrust: false

# Set up credentials
credentials:
  system:
    domainCredentials:
      - credentials:
          - basicSSHUserPrivateKey:
              scope: GLOBAL
              id: "ssh-Master-Controller"
              username: ubuntu
              description: "SSH passphrase with private key file. Private key provided"
              privateKeySource:
                directEntry:
                  privateKey: "${readFile:${SSH_PRIVATE_FILE_PATH}}"
          - basicSSHUserPrivateKey:
              scope: GLOBAL
              id: "ssh-GitHub"
              username: Inframous
              description: "SSH Private Key for Git (Same one)"
              privateKeySource:
                directEntry:
                  privateKey: "${readFile:${SSH_PRIVATE_FILE_PATH}}"
          - aws:
              scope: GLOBAL
              id: "aws-Master-Controller"
              accessKey: "${AWS_ACCESS_KEY}"
              secretKey: "${AWS_SECRET_ACCESS_KEY}"
              description: "AWS Credentials"

# Testing this block
unclassified:
  location:
    adminAddress: "EMAIL_ADDRESS"
    url: "<CONTROLLER_IP>"
## End block

jobs:
  - file: /var/jenkins_home/pipelines/import_depInfra.groovy
  - file: /var/jenkins_home/pipelines/import_desInfra.groovy

security:
  scriptApproval:
    approvedScriptHashes:
      - "SHA512:8d233a53968bc6331e19c54d2256cc89800862f4fa65d725a975c12cddc139f4e137975e681e6f172146969402b0f8faae0b10f45b13eb183b3153bc58631a08"
      - "SHA512:478c71f0e0958edcd96cefe4c95dbc2bdc96bea867722ef8e995786ef58998fa675f86d5332212b4d4eb1b6a8e1bed93f1b697913edacd6f37fa2b60605d3f12"
      - "SHA512:14793858edd689221e168352141c35bf5f87026b23b223c67178e82192ce427e838b4095fcaee85ed60b7646fca35404bd2f901259a0b9a2ada2b1b81dab0406"
      - "SHA512:3f205299bef2fe3329258a42f2c60d332cc35ccb41a3ca0512d7869c6aff4561ff708c48123b4f7c3dec33ccca30d54fb8b9b51b5bc7070f96236d11a3f0bdcb"
      - "SHA512:40b49a704b019e279b56f6250e7dc604da4de30db5a1e48ba63ac5c2d9dbb8e33e483d432f070bdf6c27da62322bae12e919279138f7a466fd2bb083c0e895b3"





